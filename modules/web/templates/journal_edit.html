{% extends "base.html" %}
{% block head %}
<script src="https://cdn.tiny.cloud/1/l8uouai837afv287zc4ol6pmojd90cxgg9uqvznm9q3pqulf/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
{% endblock %}

{% block content %}
<div class="container entry-form">
    <h1>{{ 'Edit' if entry else 'New' }} Entry</h1>
    <form method="post" enctype="multipart/form-data">
        <label>Title</label>
        <input type="text" name="title" value="{{ entry.title if entry else '' }}" required>

        <label>Tags</label>
        <input type="text" name="tags" value="{{ entry.tags if entry else '' }}">

        <label>Content</label>
        <textarea name="content" rows="12">{{ entry.content if entry else '' }}</textarea>

        <label>Attachments</label>
        <input type="file" name="attachments" multiple>

        <button type="submit">💾 Save</button>
        <a class="button-group" href="{{ url_for('journal.list_entries') }}">← Cancel</a>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
    tinymce.init({
        selector: 'textarea[name=content]',
        menubar: false,
        plugins: 'link lists',
        toolbar: 'undo redo | bold italic underline | bullist numlist | link',
        branding: false
    });
</script>
{% endblock %}